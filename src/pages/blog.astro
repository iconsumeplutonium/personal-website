---
import { getCollection } from "astro:content";
import Layout from "../layouts/Layout.astro";
import BlogCard from "../components/BlogCard.astro";
const allPosts = await getCollection("blog");
const sortedPosts = allPosts.sort((a, b) => new Date(b.data.date).getTime() - new Date(a.data.date).getTime());
const pageTitle = "Blog";
---

<Layout pageTitle={pageTitle}>
	<!-- <a class="hyperlink" href="/"><p><- Back to home</p></a> -->
	<h2 style="margin-bottom: 5px;">Blog</h2>
	<ul role="list" class="link-blog-grid">
		{
			sortedPosts.map((cardPost) => (
				<BlogCard
					title={cardPost.data.title}
					date={cardPost.data.date}
					description={cardPost.data.description}
					url={`/blog/${cardPost.id}/`}
				/>
			))
		}
	</ul>
</Layout>
